{"version":3,"file":"js/228.e086fe75.js","mappings":"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","sources":["webpack://week7-hw-dashboard/./src/views/Dashboard/AdminOrders.vue","webpack://week7-hw-dashboard/./src/components/OrderModal.vue","webpack://week7-hw-dashboard/./src/components/OrderModal.vue?b91a","webpack://week7-hw-dashboard/./src/components/DeleteOrderModal.vue","webpack://week7-hw-dashboard/./src/components/DeleteOrderModal.vue?b45b","webpack://week7-hw-dashboard/./src/views/Dashboard/AdminOrders.vue?9217"],"sourcesContent":["<template>\n  <VueLoading :active=\"isLoading\"></VueLoading>\n  <h2 class=\"text-center\">訂單</h2>\n  <div class=\"container\">\n    <div class=\"row py-3\">\n      <div class=\"col\">\n        <table class=\"table mt-4\">\n          <thead>\n            <tr>\n              <th width=\"120\">購買時間</th>\n              <th width=\"120\">Email</th>\n              <th width=\"120\">購買款項</th>\n              <th width=\"120\">應付金額</th>\n              <th width=\"120\">是否付款</th>\n              <th width=\"120\">編輯</th>\n            </tr>\n          </thead>\n          <tbody id=\"productList\">\n            <tr v-for=\"item in orders\" :key=\"item.id\">\n              <td>\n                {{ new Date(item.create_at * 1000).toLocaleDateString() }}\n              </td>\n              <td>{{ item.user.email }}</td>\n              <td>\n                <ul class=\"list-unstyled\">\n                  <li v-for=\"(product, index) in item.products\" :key=\"index\">\n                    <span class=\"text-secondary\">{{\n                      product.product.title\n                    }}</span>\n                    數量 : {{ product.qty }}\n                    {{ product.product.unit }}\n                  </li>\n                </ul>\n              </td>\n              <td>{{ item.total }}</td>\n              <td>\n                <span class=\"text-success\" v-if=\"item.is_paid\">已付款</span>\n                <span class=\"text-danger\" v-else>未付款</span>\n              </td>\n              <td>\n                <div class=\"btn-group\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-success btn-sm\"\n                    @click=\"openModal('edit', item)\"\n                  >\n                    檢視\n                  </button>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger btn-sm\"\n                    @click=\"openModal('delete', item)\"\n                  >\n                    刪除\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <p>\n          本頁面有 <span id=\"productCount\"> {{ orders.length }} </span> 筆訂單\n        </p>\n      </div>\n    </div>\n    <!-- 分頁元件 -->\n    <PaginationView\n      :pages=\"pagination\"\n      @emit-get-page=\"getAllOrders\"\n    ></PaginationView>\n    <!-- 訂單元件 -->\n    <OrderModal\n      :order-mod=\"tempOrder\"\n      @update-order=\"updateOrderState\"\n      ref=\"orderModalRef\"\n    ></OrderModal>\n    <!-- 刪除訂單元件 -->\n    <DeleteOrderModal\n      :delete-order-item=\"tempOrder\"\n      @get-orders=\"getAllOrders\"\n      ref=\"delModalRef\"\n    ></DeleteOrderModal>\n  </div>\n</template>\n\n<script>\nimport PaginationView from \"@/components/PaginationView.vue\";\nimport OrderModal from \"@/components/OrderModal.vue\";\nimport DeleteOrderModal from \"@/components/DeleteOrderModal.vue\";\n\nexport default {\n  components: {\n    PaginationView,\n    OrderModal,\n    DeleteOrderModal,\n  },\n  data() {\n    return {\n      orders: [],\n      pagination: {},\n      tempOrder: {},\n      isNew: false,\n      isLoading: false,\n    };\n  },\n  methods: {\n    getAllOrders(page = 1) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders/?page=${page}`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          // console.log(res.data);\n          this.orders = res.data.orders;\n          this.pagination = res.data.pagination;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.log(err.data);\n        });\n    },\n    openModal(state, item) {\n      console.log(state, item);\n      if (state == \"edit\") {\n        // 使用深拷貝\n        this.tempOrder = JSON.parse(JSON.stringify(item));\n        this.$refs.orderModalRef.open();\n        this.isNew = false;\n      } else if (state == \"delete\") {\n        this.tempOrder = JSON.parse(JSON.stringify(item));\n        this.$refs.delModalRef.open();\n      }\n    },\n    updateOrderState(item) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      const paidState = { is_paid: item.is_paid };\n      this.$http\n        .put(url, { data: paidState })\n        .then((res) => {\n          // console.log(res.data);\n          this.getAllOrders();\n          this.$httpMessageState(res, \"已更新付款狀態\");\n          this.$refs.orderModalRef.close();\n        })\n        .catch((err) => {\n          console.log(err.data);\n        });\n    },\n  },\n  mounted() {\n    this.getAllOrders();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modalRef\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單細節</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-md-4\">\n              <h3>用戶資料</h3>\n              <table class=\"table\">\n                <tbody v-if=\"tempOrder.user\">\n                  <tr>\n                    <th style=\"width: 100px\">姓名</th>\n                    <td>{{ tempOrder.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>Email</th>\n                    <td>{{ tempOrder.user.email }}</td>\n                  </tr>\n                  <tr>\n                    <th>電話</th>\n                    <td>{{ tempOrder.user.tel }}</td>\n                  </tr>\n                  <tr>\n                    <th>地址</th>\n                    <td>{{ tempOrder.user.address }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"col-md-8\">\n              <h3>訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th style=\"width: 100px\">訂單編號</th>\n                    <td>{{ tempOrder.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間</th>\n                    <td>\n                      {{\n                        new Date(\n                          tempOrder.create_at * 1000,\n                        ).toLocaleDateString()\n                      }}\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td>\n                      <span v-if=\"tempOrder.paid_date\">\n                        {{\n                          new Date(\n                            tempOrder.paid_date * 1000,\n                          ).toLocaleDateString()\n                        }}\n                      </span>\n                      <span v-else>時間不正確</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\n                        >已付款</strong\n                      >\n                      <span v-else class=\"text-muted\">尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額</th>\n                    <td>{{ tempOrder.total }}</td>\n                  </tr>\n                </tbody>\n              </table>\n              <h3>選購商品</h3>\n              <table class=\"table\">\n                <thead>\n                  <tr></tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                    <th>\n                      {{ item.product.title }}\n                    </th>\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                    <td class=\"text-end\">\n                      {{ item.final_total }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"d-flex justify-content-end\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    value=\"\"\n                    id=\"flexCheckDefault\"\n                    v-model=\"tempOrder.is_paid\"\n                  />\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\n                    <span v-else>未付款</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-order', tempOrder)\"\n          >\n            修改付款狀態\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from \"bootstrap/js/dist/modal\";\nexport default {\n  data() {\n    return {\n      orderModal: {},\n      tempOrder: {},\n      isPaid: false,\n    };\n  },\n  props: {\n    orderMod: {},\n  },\n  emits: [\"update-order\"],\n  watch: {\n    orderMod() {\n      this.tempOrder = this.orderMod;\n    },\n  },\n  methods: {\n    open() {\n      this.orderModal.show();\n    },\n    close() {\n      this.orderModal.hide();\n    },\n  },\n  mounted() {\n    this.orderModal = new Modal(this.$refs.modalRef, {\n      keyboard: false,\n    });\n  },\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=0b1f48f0\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Steven\\\\Desktop\\\\2022_VueTaskWeek7\\\\week7-hw-dashboard\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div\n    id=\"delProductModal\"\n    ref=\"delModal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"delProductModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h5 id=\"delProductModalLabel\" class=\"modal-title\">\n            <span>刪除訂單</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          是否刪除\n          <strong class=\"text-danger\"></strong>\n          該筆訂單(刪除後將無法恢復)。\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteOrder\">\n            確認刪除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from \"bootstrap/js/dist/modal\";\nexport default {\n  data() {\n    return {\n      delOrderModal: \"\",\n    };\n  },\n\n  props: [\"deleteOrderItem\"],\n  methods: {\n    open() {\n      this.delOrderModal.show();\n    },\n    close() {\n      this.delOrderModal.hide();\n    },\n    //刪除訂單\n    deleteOrder() {\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.deleteOrderItem.id}`,\n        )\n        .then(() => {\n          this.$emit(\"get-orders\");\n          this.close();\n        })\n        .catch((err) => {\n          console.log(err.data);\n        });\n    },\n  },\n  mounted() {\n    this.delOrderModal = new Modal(this.$refs.delModal, {\n      keyboard: false,\n    });\n  },\n};\n</script>\n","import { render } from \"./DeleteOrderModal.vue?vue&type=template&id=3edd6725\"\nimport script from \"./DeleteOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteOrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Steven\\\\Desktop\\\\2022_VueTaskWeek7\\\\week7-hw-dashboard\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminOrders.vue?vue&type=template&id=4eab4ac6\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Steven\\\\Desktop\\\\2022_VueTaskWeek7\\\\week7-hw-dashboard\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","width","id","_createVNode","_component_VueLoading","active","$data","_hoisted_1","_hoisted_6","_createElementBlock","_Fragment","_renderList","item","key","_toDisplayString","Date","create_at","toLocaleDateString","user","email","products","product","index","title","qty","unit","total","is_paid","type","onClick","$options","_hoisted_13","_hoisted_14","length","_component_PaginationView","pages","onEmitGetPage","_component_OrderModal","onUpdateOrder","ref","_component_DeleteOrderModal","onGetOrders","tabindex","role","style","for","_hoisted_4","_hoisted_8","_hoisted_10","_hoisted_11","name","_hoisted_12","tel","address","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","paid_date","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_26","_hoisted_27","_hoisted_29","final_total","value","$event","_hoisted_34","_hoisted_35","_hoisted_37","_ctx","data","orderModal","tempOrder","isPaid","props","orderMod","emits","watch","this","methods","open","show","close","hide","mounted","Modal","$refs","modalRef","keyboard","__exports__","_hoisted_7","delOrderModal","deleteOrder","$http","delete","deleteOrderItem","then","$emit","catch","err","console","log","delModal","components","PaginationView","OrderModal","DeleteOrderModal","orders","pagination","isNew","isLoading","getAllOrders","page","url","get","res","openModal","state","JSON","parse","stringify","orderModalRef","delModalRef","updateOrderState","paidState","put","$httpMessageState","render"],"sourceRoot":""}