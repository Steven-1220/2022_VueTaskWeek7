{"version":3,"file":"js/114.7b5e61c8.js","mappings":"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","sources":["webpack://week7-hw-dashboard/./src/views/UserOrder.vue","webpack://week7-hw-dashboard/./src/views/UserOrder.vue?85b7"],"sourcesContent":["<template>\n  <!-- 訂單資訊 -->\n  <div class=\"container\">\n    <VueLoading :active=\"isLoading\"></VueLoading>\n    <div class=\"my-5 row justify-content-center\">\n      <VForm ref=\"form\" class=\"col-md-6\" v-slot=\"{ errors }\">\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label\">Email</label>\n          <VField\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            class=\"form-control\"\n            rules=\"email|required\"\n            :class=\"{ 'is-invalid': errors['email'] }\"\n            placeholder=\"請輸入 Email\"\n            v-model=\"form.user.email\"\n          ></VField>\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\n          <VField\n            id=\"name\"\n            name=\"姓名\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            rules=\"required\"\n            v-model=\"form.user.name\"\n          ></VField>\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\n          <VField\n            id=\"tel\"\n            name=\"電話\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['電話'] }\"\n            placeholder=\"請輸入電話\"\n            rules=\"min:8|max:10|required\"\n            v-model=\"form.user.tel\"\n          ></VField>\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\n          <VField\n            id=\"address\"\n            name=\"地址\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            rules=\"required\"\n            v-model=\"form.user.address\"\n          ></VField>\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"message\" class=\"form-label\">留言</label>\n          <textarea\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n            v-model=\"form.message\"\n          ></textarea>\n        </div>\n        <div class=\"text-end\">\n          <!-- 驗證沒過時或是購物車中沒產品時，無法 click -->\n          <button\n            type=\"submit\"\n            class=\"btn btn-danger\"\n            :disabled=\"\n              Object.keys(errors).length > 0 || cartData.carts.length === 0\n            \"\n            @click.prevent=\"sendOrder\"\n          >\n            送出訂單\n          </button>\n        </div>\n      </VForm>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from \"@/libraries/emitter\";\nexport default {\n  data() {\n    return {\n      cartData: {\n        carts: [],\n      },\n      form: {\n        user: {\n          name: \"\",\n          email: \"\",\n          tel: \"\",\n          address: \"\",\n        },\n        message: \"\",\n      },\n      isLoading: false,\n    };\n  },\n  methods: {\n    //送出訂單\n    sendOrder() {\n      const order = this.form;\n      // console.log(order);\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`;\n      this.$http\n        .post(url, { data: order })\n        .then((res) => {\n          // console.log(res);\n          alert(res.data.message);\n          this.$refs.form.resetForm();\n          this.form.message = \"\";\n          emitter.emit(\"get-cart\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    // 取得購物車列表資訊\n    getCartList() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          // console.log(res);\n          this.cartData = res.data.data;\n          // console.log(this.cartData);\n        })\n        .catch((err) => {\n          console.log(err.response.data);\n        });\n    },\n    LoadingEffect() {\n      this.isLoading = true;\n      setTimeout(() => {\n        this.isLoading = false;\n      }, 500);\n    },\n  },\n  mounted() {\n    this.LoadingEffect();\n    this.getCartList();\n  },\n};\n</script>\n","import { render } from \"./UserOrder.vue?vue&type=template&id=32b639b4\"\nimport script from \"./UserOrder.vue?vue&type=script&lang=js\"\nexport * from \"./UserOrder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Steven\\\\Desktop\\\\2022_VueTaskWeek7\\\\week7-hw-dashboard\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_createVNode","_component_VueLoading","active","$data","_component_VForm","ref","errors","_hoisted_4","_component_VField","id","name","type","rules","placeholder","user","email","$event","_component_ErrorMessage","_hoisted_6","_hoisted_8","tel","_hoisted_10","address","_hoisted_12","cols","rows","message","disabled","Object","keys","length","carts","onClick","$options","_hoisted_14","data","cartData","form","isLoading","methods","sendOrder","order","this","url","$http","post","then","res","alert","$refs","resetForm","emitter","catch","err","console","log","getCartList","get","response","LoadingEffect","setTimeout","mounted","__exports__","render"],"sourceRoot":""}