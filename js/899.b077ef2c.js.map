{"version":3,"file":"js/899.b077ef2c.js","mappings":"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","sources":["webpack://week7-hw-dashboard/./src/views/DashboardView.vue","webpack://week7-hw-dashboard/./src/components/ToastMessage.vue","webpack://week7-hw-dashboard/./src/components/ToastMessage.vue?e29f","webpack://week7-hw-dashboard/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\n  <ToastMessage></ToastMessage>\n\n  <nav class=\"navbar px-0 navbar-expand-lg navbar-light bg-primary\">\n    <div\n      class=\"collapse navbar-collapse custom-header-md-open container-fluid\"\n      id=\"navbarNav\"\n    >\n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item active\">\n          <router-link class=\"nav-link ps-md-0\" to=\"/admin/products\"\n            >產品</router-link\n          >\n        </li>\n        <li class=\"nav-item\">\n          <router-link class=\"nav-link ps-md-2\" to=\"/admin/orders\"\n            >訂單</router-link\n          >\n        </li>\n        <li class=\"nav-item active\">\n          <router-link class=\"nav-link ps-md-2\" to=\"/admin/coupon\"\n            >優惠券</router-link\n          >\n        </li>\n        <li class=\"nav-item active\">\n          <router-link class=\"nav-link ps-md-2\" to=\"/admin/article\"\n            >貼文</router-link\n          >\n        </li>\n        <li class=\"nav-item active\">\n          <router-link class=\"nav-link ps-md-5\" to=\"/login\">登出</router-link>\n        </li>\n      </ul>\n    </div>\n  </nav>\n\n  <router-view v-if=\"checkSuccess\"></router-view>\n</template>\n\n<script>\n// 驗證寫在 Dashboard 統一管理，並由 router-view 控制切換呈現的內容\nimport ToastMessage from \"@/components/ToastMessage.vue\";\nexport default {\n  components: {\n    ToastMessage,\n  },\n  data() {\n    return {\n      checkSuccess: false,\n    };\n  },\n  methods: {\n    checkLogin() {\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)myToken\\s*=\\s*([^;]*).*$)|^.*$/,\n        \"$1\",\n      );\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = token;\n\n        const api = `${process.env.VUE_APP_API}/api/user/check`;\n        this.$http\n          .post(api)\n          .then(() => {\n            // 驗證成功代表 token 沒過期\n            this.checkSuccess = true;\n          })\n          .catch((err) => {\n            alert(err.data.message);\n            this.$router.push(\"/login\");\n          });\n      } else {\n        alert(\"您尚未登入。\");\n        this.$router.push(\"/login\");\n      }\n    },\n    logOut() {\n      document.cookie = \"myToken=;expires=;\";\n      alert(\"已登出\");\n      this.$router.push(\"/login\");\n    },\n  },\n  mounted() {\n    this.checkLogin();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"toast-container position-fixed pe-3 top-0 end-0\"\n    style=\"z-index: 1500\"\n  >\n    <div\n      v-for=\"(msg, key) in messages\"\n      :key=\"key\"\n      class=\"toast show\"\n      :class=\"`toast${key}`\"\n      role=\"alert\"\n    >\n      <div class=\"toast-header\">\n        <span\n          :class=\"`bg-${msg.style}`\"\n          class=\"p-2 rounded me-2 d-inline-block\"\n        ></span>\n        <strong class=\"me-auto\">{{ msg.title }}</strong>\n        <button\n          type=\"button\"\n          class=\"btn-close\"\n          @click=\"clearToast(key)\"\n          aria-label=\"Close\"\n        ></button>\n      </div>\n      <div class=\"toast-body\" v-if=\"msg.content\">\n        {{ msg.content }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from \"@/libraries/emitter\";\nexport default {\n  data() {\n    return {\n      // message 裡面可放許多物件，每一個物件就是 msg { style : \"success\" , title: \"標題\" , content: \"內容\"}\n\n      messages: [],\n    };\n  },\n  // inject: ['emitter'],\n  methods: {\n    toastShow() {\n      // 移除 messages 內容\n      setTimeout(() => {\n        this.messages.shift();\n      }, 6000);\n    },\n    // 刪除整個 toast 提示\n    clearToast(index) {\n      this.messages.splice(index, 1);\n    },\n  },\n  mounted() {\n    // 接收資料\n    emitter.on(\"push-message\", (message) => {\n      // \"success\" 是預設值\n      const { style = \"success\", title, content } = message;\n      this.messages.push({ style, title, content });\n      this.toastShow();\n    });\n  },\n};\n</script>\n","import { render } from \"./ToastMessage.vue?vue&type=template&id=457f431e\"\nimport script from \"./ToastMessage.vue?vue&type=script&lang=js\"\nexport * from \"./ToastMessage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Steven\\\\Desktop\\\\2022_VueTaskWeek7\\\\week7-hw-dashboard\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DashboardView.vue?vue&type=template&id=01997bc9\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Steven\\\\Desktop\\\\2022_VueTaskWeek7\\\\week7-hw-dashboard\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","_createVNode","_component_ToastMessage","_createElementVNode","_component_router_link","to","$data","_createBlock","_component_router_view","key","style","_createElementBlock","_Fragment","_renderList","msg","role","_toDisplayString","title","type","onClick","$options","content","data","messages","methods","toastShow","setTimeout","this","shift","clearToast","index","splice","mounted","emitter","message","push","__exports__","components","ToastMessage","checkSuccess","checkLogin","token","document","cookie","replace","$http","defaults","headers","common","Authorization","api","post","then","catch","err","alert","$router","logOut","render"],"sourceRoot":""}